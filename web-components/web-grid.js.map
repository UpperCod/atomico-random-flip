{"version":3,"file":"web-grid.js","sources":["../src/web-components/web-grid/web-grid.js"],"sourcesContent":["import { h, customElement, useProp, useEvent } from \"atomico\";\r\nimport \"../web-cell/web-cell\";\r\n\r\nconst WebGrid = props => {\r\n  const [world] = useProp(\"world\");\r\n\r\n  const dispatchWorlChange = useEvent(\"worldchange\", {\r\n    bubles: true,\r\n    composed: true\r\n  });\r\n\r\n  const handleToggleCell = e => {\r\n    const { col, row } = e.detail;\r\n    dispatchWorlChange({ world, col, row });\r\n  };\r\n\r\n  return (\r\n    <host\r\n      shadowDom\r\n      style={style(world.cols, world.rows)}\r\n      ontogglecell={handleToggleCell}\r\n    >\r\n      {world.arr.map((val, idx) => {\r\n        const row = Math.floor(idx / world.cols);\r\n        const col = idx - row * world.cols;\r\n        return <web-cell key={idx} col={col} row={row} live={val} />;\r\n      })}\r\n    </host>\r\n  );\r\n};\r\n\r\nWebGrid.props = {\r\n  world: {\r\n    type: Object,\r\n    get value() {\r\n      return { arr: [false], cols: 1, rows: 1 };\r\n    }\r\n  }\r\n};\r\n\r\nexport default customElement(\"web-grid\", WebGrid);\r\n\r\n// Helpers CSS\r\nconst style = (cols, rows) => {\r\n  return {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    display: \"grid\",\r\n    \"grid-gap\": \"0px\",\r\n    \"grid-template-columns\": `repeat(${cols}, 1fr)`,\r\n    \"grid-template-rows\": `repeat(${rows}, 1fr)`,\r\n    border: \"1px solid #fafafa\"\r\n  };\r\n};\r\n"],"names":["WebGrid","props","world","useProp","dispatchWorlChange","useEvent","bubles","composed","handleToggleCell","e","col","row","detail","style","cols","rows","arr","map","val","idx","Math","floor","type","Object","value","customElement","width","height","display","border"],"mappings":";;;AAGA,MAAMA,OAAO,GAAGC,KAAK,IAAI;QACjB,CAACC,KAAD,IAAUC,OAAO,CAAC,OAAD,CAAvB;QAEMC,kBAAkB,GAAGC,QAAQ,CAAC,aAAD,EAAgB;IACjDC,MAAM,EAAE,IADyC;IAEjDC,QAAQ,EAAE;GAFuB,CAAnC;;QAKMC,gBAAgB,GAAGC,CAAC,IAAI;UACtB;MAAEC,GAAF;MAAOC;QAAQF,CAAC,CAACG,MAAvB;IACAR,kBAAkB,CAAC;MAAEF,KAAF;MAASQ,GAAT;MAAcC;KAAf,CAAlB;GAFF;;SAME;IACE,SAAS,MADX;IAEE,KAAK,EAAEE,KAAK,CAACX,KAAK,CAACY,IAAP,EAAaZ,KAAK,CAACa,IAAnB,CAFd;IAGE,YAAY,EAAEP;KAEbN,KAAK,CAACc,GAAN,CAAUC,GAAV,CAAc,CAACC,GAAD,EAAMC,GAAN,KAAc;UACrBR,GAAG,GAAGS,IAAI,CAACC,KAAL,CAAWF,GAAG,GAAGjB,KAAK,CAACY,IAAvB,CAAZ;UACMJ,GAAG,GAAGS,GAAG,GAAGR,GAAG,GAAGT,KAAK,CAACY,IAA9B;WACO;MAAU,GAAG,EAAEK,GAAf;MAAoB,GAAG,EAAET,GAAzB;MAA8B,GAAG,EAAEC,GAAnC;MAAwC,IAAI,EAAEO;MAArD;GAHD,CALH,CADF;CAbF;;AA4BAlB,OAAO,CAACC,KAAR,GAAgB;EACdC,KAAK,EAAE;IACLoB,IAAI,EAAEC,MADD;;QAEDC,KAAJ,GAAY;aACH;QAAER,GAAG,EAAE,CAAC,KAAD,CAAP;QAAgBF,IAAI,EAAE,CAAtB;QAAyBC,IAAI,EAAE;OAAtC;;;;CAJN;AASA,cAAeU,aAAa,CAAC,UAAD,EAAazB,OAAb,CAA5B;;AAGA,MAAMa,KAAK,GAAG,CAACC,IAAD,EAAOC,IAAP,KAAgB;SACrB;IACLW,KAAK,EAAE,MADF;IAELC,MAAM,EAAE,MAFH;IAGLC,OAAO,EAAE,MAHJ;gBAIO,KAJP;8CAK8Bd,IAAnC,WALK;2CAM2BC,IAAhC,WANK;IAOLc,MAAM,EAAE;GAPV;CADF;;;;"}